(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1d5bac06"],{"01cc":function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var a=n("1462"),o=n("a340"),r=(n("d296"),n("0e64")),i=n("a593");i["a"].use(r["a"]);var s=function(){function t(){Object(a["a"])(this,t)}return Object(o["a"])(t,[{key:"valid",value:function(t){for(var e in t)if(!t[e].reg.test(t[e].value))return Object(r["a"])({type:"warning",message:t[e].errorMsg}),!1;return!0}}]),t}(),c=new s},1462:function(t,e,n){"use strict";function a(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return a}))},"2f14":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("b4fb"),n("77ad");var a=n("1462"),o=n("a340"),r=function(){function t(){Object(a["a"])(this,t)}return Object(o["a"])(t,[{key:"queryString",value:function(t){var e="";for(var n in t)"confirmpassword"!==n&&(e+="".concat(n,"=").concat(t[n],"&"));return e.slice(0,-1)}}]),t}(),i=new r},"398a":function(t,e,n){},a340:function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function o(t,e,n){return e&&a(t.prototype,e),n&&a(t,n),t}n.d(e,"a",(function(){return o}))},b4fb:function(t,e,n){"use strict";var a=n("1c8b"),o=n("efe2"),r=n("74e7"),i=n("a719"),s=n("3553"),c=n("d88d"),u=n("1bbd"),l=n("1ca1"),d=n("1ea7"),f=n("90fb"),p=n("f594"),h=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",w=p>=51||!o((function(){var t=[];return t[h]=!1,t.concat()[0]!==t})),m=d("concat"),y=function(t){if(!i(t))return!1;var e=t[h];return void 0!==e?!!e:r(t)},b=!w||!m;a({target:"Array",proto:!0,forced:b},{concat:function(t){var e,n,a,o,r,i=s(this),d=l(i,0),f=0;for(e=-1,a=arguments.length;e<a;e++)if(r=-1===e?i:arguments[e],y(r)){if(o=c(r.length),f+o>v)throw TypeError(g);for(n=0;n<o;n++,f++)n in r&&u(d,f,r[n])}else{if(f>=v)throw TypeError(g);u(d,f++,r)}return d.length=f,d}})},de3e:function(t,e,n){"use strict";n.r(e);var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"securitycenter"},[n("div",{staticClass:"changepassword"},[n("van-popup",{attrs:{round:"",closeable:"",position:"bottom"},model:{value:t.isshow,callback:function(e){t.isshow=e},expression:"isshow"}},[n("h2",[t._v("修改密码")]),n("div",{staticClass:"passwordinput"},[n("van-form",{on:{submit:t.onSubmit}},[t._l(t.passworddata,(function(e,a){return n("div",{key:a},[n("van-field",{attrs:{type:e.isactive?"text":"password",name:e.typename,label:e.name,placeholder:e.placeholder,"right-icon":e.isactive?e.isrighticon:e.righticon},on:{"click-right-icon":function(n){return t.toggleIcon(e)}},model:{value:e.password,callback:function(n){t.$set(e,"password",n)},expression:"item.password"}})],1)})),n("div",{staticStyle:{margin:"16px"}},[n("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[t._v("提交")])],1)],2)],1)])],1),n("div",{staticClass:"head"},[n("van-nav-bar",{attrs:{title:"安全中心",fixed:!0,border:!1},on:{"click-left":t.fhiu},scopedSlots:t._u([{key:"left",fn:function(){return[n("van-icon",{attrs:{name:"arrow-left",size:"30",color:"#000"}})]},proxy:!0}])})],1),n("div",{staticClass:"revised-content"},[n("van-cell",{attrs:{title:"修改密码",size:"large","is-link":"","arrow-direction":""},on:{click:t.showPopup}}),n("van-cell",{attrs:{size:"large"},on:{click:t.cancelaccount},scopedSlots:t._u([{key:"title",fn:function(){return[n("span",{staticClass:"custom-title"},[t._v("注销账号")]),n("van-tag",{attrs:{type:"danger"}},[t._v("谨慎操作")])]},proxy:!0},{key:"right-icon",fn:function(){return[n("van-icon",{staticClass:"search=icon",attrs:{name:"warning-o",size:18}})]},proxy:!0}])})],1)])},o=[],r=(n("398a"),n("2f14")),i=n("01cc"),s={name:"Securitycenter",data:function(){return{isshow:!1,passworddata:[{password:"",typename:"oldpassword",name:"旧密码",righticon:"closed-eye",isrighticon:"eye-o",placeholder:"以大小字母开头,大于6位的数字",isactive:!1},{password:"",typename:"newpassword",name:"新密码",placeholder:"以大小字母开头,大于6位的数字",righticon:"closed-eye",isrighticon:"eye-o",isactive:!1},{password:"",typename:"confirmpassword",name:"确认密码",placeholder:"再次输入新密码",righticon:"closed-eye",isrighticon:"eye-o",isactive:!1}]}},created:function(){},methods:{fhiu:function(){this.$router.go(-1)},showPopup:function(){this.isshow=!0},toggleIcon:function(t){t.isactive=!t.isactive},onSubmit:function(t){var e=this,n=localStorage.getItem("NO"),a=t.oldpassword,o=t.newpassword,s=t.confirmpassword,c={password:{value:o,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"新密码格式不正确"}};if(i["a"].valid(c))if(o===s){var u={appkey:this.appkey,tokenString:n,password:o,oldPassword:a};u=r["a"].queryString(u),this.axios({method:"POST",url:"/updatePassword",data:u}).then((function(t){"E003"==t.data.code&&e.$notify({type:"warning",message:t.data.msg}),"E001"==t.data.code&&e.$dialog.alert({message:"密码修改成功,需要重新登录"}).then((function(){e.$router.push({name:"Entrance"})}))})).catch((function(t){}))}else this.$notify({type:"warning",message:"密码不一致"})},cancelaccount:function(){var t=this;this.$dialog.confirm({title:"注销账号",message:"确定注销您的账号吗?"}).then((function(){var e=localStorage.getItem("NO"),n={appkey:t.appkey,tokenString:e};n=r["a"].queryString(n),t.axios({method:"POST",url:"/destroyAccount",data:n}).then((function(e){t.$dialog.alert({message:"注销成功"}).then((function(){t.$router.push({name:"Entrance"})}))}))})).catch((function(){}))}}},c=s,u=n("9ca4"),l=Object(u["a"])(c,a,o,!1,null,null,null);e["default"]=l.exports}}]);
//# sourceMappingURL=chunk-1d5bac06.4cc4e8e1.js.map