(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2e9d6ba6"],{"01cc":function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a("1462"),i=a("a340"),o=(a("d296"),a("0e64")),s=a("a593");s["a"].use(o["a"]);var r=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"valid",value:function(e){for(var t in e)if(!e[t].reg.test(e[t].value))return Object(o["a"])({type:"warning",message:e[t].errorMsg}),!1;return!0}}]),e}(),c=new r},1462:function(e,t,a){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}a.d(t,"a",(function(){return n}))},"2f14":function(e,t,a){"use strict";a.d(t,"a",(function(){return s}));a("b4fb"),a("77ad");var n=a("1462"),i=a("a340"),o=function(){function e(){Object(n["a"])(this,e)}return Object(i["a"])(e,[{key:"queryString",value:function(e){var t="";for(var a in e)"confirmpassword"!==a&&(t+="".concat(a,"=").concat(e[a],"&"));return t.slice(0,-1)}}]),e}(),s=new o},"4fd4":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"entrance"},[a("div",{staticClass:"title"},[a("van-nav-bar",{attrs:{border:!1},on:{"click-left":e.jumphome},scopedSlots:e._u([{key:"left",fn:function(){return[a("van-icon",{attrs:{name:"arrow-left",size:30,color:"#fff"}})]},proxy:!0}])})],1),a("div",{staticClass:"entrance-head"},[e._m(0),a("h1",[e._v("欢迎回来!")]),a("p",[e._v("Welcome back")]),a("div",{staticClass:"signin"},[a("van-form",[a("van-field",{attrs:{"left-icon":"manager",size:"30",placeholder:"用户名"},model:{value:e.logininfo.phone,callback:function(t){e.$set(e.logininfo,"phone",t)},expression:"logininfo.phone"}}),a("van-field",{attrs:{type:e.iseyes?"password":"text","left-icon":"lock","right-icon":e.iseyes?"closed-eye":"eye-o",placeholder:"密码"},on:{"click-right-icon":e.switcheyes},model:{value:e.logininfo.password,callback:function(t){e.$set(e.logininfo,"password",t)},expression:"logininfo.password"}}),a("div",[a("van-button",{attrs:{round:"",block:"",type:"default","native-type":"submit"},on:{click:e.signin}},[e._v("登录")]),a("van-button",{attrs:{round:"",block:"",type:"default","native-type":"submit"},on:{click:e.showPopup}},[e._v("注册")]),a("van-popup",{style:{height:"70%"},attrs:{closeable:"",round:"",position:"bottom",duration:"0.3","close-on-click-overlay:false":""},model:{value:e.show,callback:function(t){e.show=t},expression:"show"}},[a("div",{staticClass:"register"},[a("h2",[e._v("注册")]),a("div",{staticClass:"registrationtext"},[a("van-field",{attrs:{type:"digit",placeholder:"手机号 中国(+86)",maxlength:"11"},model:{value:e.Registrationinfo.phone,callback:function(t){e.$set(e.Registrationinfo,"phone",t)},expression:"Registrationinfo.phone"}}),a("van-field",{attrs:{placeholder:"昵称(最多6位字符)",maxlength:"6"},model:{value:e.Registrationinfo.nickName,callback:function(t){e.$set(e.Registrationinfo,"nickName",t)},expression:"Registrationinfo.nickName"}}),a("van-field",{attrs:{type:e.isnoteeye?"password":"text",placeholder:"密码(以字母开头,最少6位字符)"},on:{"click-right-icon":e.registereyes},scopedSlots:e._u([{key:"right-icon",fn:function(){return[a("van-icon",{attrs:{name:e.isnoteeye?"closed-eye":"eye-o",color:"#2a9f93"}})]},proxy:!0}]),model:{value:e.Registrationinfo.password,callback:function(t){e.$set(e.Registrationinfo,"password",t)},expression:"Registrationinfo.password"}}),a("van-field",{attrs:{type:"password",placeholder:"确认密码"},model:{value:e.Registrationinfo.confirmpassword,callback:function(t){e.$set(e.Registrationinfo,"confirmpassword",t)},expression:"Registrationinfo.confirmpassword"}}),a("van-button",{attrs:{round:"",block:"",type:"default",color:"#2a9f93","native-type":"submit"},on:{click:e.confirm}},[e._v("注册")])],1)])])],1)],1)],1)]),a("div",{staticClass:"tail"},[a("p",[a("span",{on:{click:e.forgettinglayer}},[e._v("忘记密码?")])])]),a("div",{staticClass:"retrieve"},[a("van-popup",{style:{height:"60%"},attrs:{round:"",closeable:"",position:"bottom"},model:{value:e.isshow,callback:function(t){e.isshow=t},expression:"isshow"}},[a("h1",[e._v("找回密码")]),a("van-form",{on:{submit:e.retrieve}},[a("van-field",{attrs:{size:"large",name:"username",label:"手机号",placeholder:"注册时的手机号"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("van-field",{attrs:{size:"large",type:e.isactive?"password":"text",name:"password",label:"新密码",placeholder:"以大小字母开头,大于6位的数字","right-icon":e.isactive?"closed-eye":"eye-o"},on:{"click-right-icon":e.smalleyes},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("van-field",{attrs:{size:"large",type:"'text'",name:"email",label:"邮箱",placeholder:"输入存在的邮箱"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("van-field",{staticClass:"control",attrs:{name:"sms",center:"",clearable:"",label:"邮箱验证码",placeholder:"请输入邮箱验证码"},scopedSlots:e._u([{key:"button",fn:function(){return[e.isdisable?a("van-button",{attrs:{size:"small","native-type":"button",type:"primary"},on:{click:e.mailboxnumber}},[e._v("发送验证码")]):a("van-button",{attrs:{disabled:"",size:"small","native-type":"button",type:"default"}},[e._v(e._s(e.countdown)+"秒再次发送")])]},proxy:!0}]),model:{value:e.sms,callback:function(t){e.sms=t},expression:"sms"}}),a("div",{staticStyle:{margin:"16px"}},[a("van-button",{attrs:{round:"",block:"",type:"info","native-type":"submit"}},[e._v("确 定")])],1)],1)],1)],1)])},i=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"logo"},[n("img",{attrs:{src:a("9d64"),alt:"..."}})])}],o=(a("c710"),a("01cc")),s=a("2f14"),r={data:function(){return{logininfo:{phone:"",password:""},Registrationinfo:{phone:"",nickName:"",password:"",confirmpassword:""},username:"",password:"",email:"",sms:"",countdown:15,isnoteeye:!0,iseyes:!0,isactive:!0,isdisable:!0,show:!1,isshow:!1}},methods:{switcheyes:function(){this.iseyes=!this.iseyes},registereyes:function(){this.isnoteeye=!this.isnoteeye},smalleyes:function(){this.isactive=!this.isactive},showPopup:function(){this.show=!0},forgettinglayer:function(){this.isshow=!0},jumphome:function(){this.$router.push({name:"Home"})},confirm:function(){var e=this,t=this.Registrationinfo,a={phone:{value:t.phone,reg:/^1[3-9]\d{9}$/,errorMsg:"手机格式不正确"},nickname:{value:t.nickName,reg:/^[\w\u4e00-\u9fa5]{1,10}$/,errorMsg:"昵称格式不正确"},password:{value:t.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码格式不正确"}};if(o["a"].valid(a))if(this.Registrationinfo.password===this.Registrationinfo.confirmpassword){this.$toast.loading({message:"注册中...",forbidClick:!0,duration:0,loadingType:"circular"});var n=Object.assign({},t);n.appkey=this.appkey;var i=s["a"].queryString(n);this.axios({method:"POST",url:"/register",data:i}).then((function(a){if(e.$toast.clear(),100==a.data.code){for(var n in e.show=!1,t)t[n]="";e.$toast.success("注册成功")}else e.$notify({type:"warning",message:a.data.msg})})).catch((function(t){e.$toast.clear()}))}else this.$notify({type:"warning",message:"请再次确认密码"})},signin:function(){var e=this,t=this.logininfo,a={phone:{value:t.phone,reg:/^1[3-9]\d{9}$/,errorMsg:"手机号格式不正确"},password:{value:t.password,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"密码格式不正确"}};if(o["a"].valid(a)){this.$toast.loading({message:"登录中...",forbidClick:!0,duration:0,loadingType:"circular"});var n=Object.assign({},t);n.appkey=this.appkey;var i=s["a"].queryString(n);this.axios({method:"POST",url:"/login",data:i}).then((function(t){e.$toast.clear(),200==t.data.code?(localStorage.setItem("NO",t.data.token),e.$router.push({name:"Home"})):e.$notify({type:"warning",message:t.data.msg})})).catch((function(t){e.$toast.clear()}))}},retrieve:function(e){var t=this,a=(localStorage.getItem("NO"),e.username),n=e.password,i=this.sms,r={phone:{value:a,reg:/^1[3-9]\d{9}$/,errorMsg:"手机格式不正确"},password:{value:n,reg:/^[A-Za-z]\w{5,15}$/,errorMsg:"新密码格式不正确"}};if(o["a"].valid(r))if(this.email){var c={appkey:this.appkey,validCode:i};c=s["a"].queryString(c),this.axios({method:"POST",url:"/checkValidCode",data:c}).then((function(e){if("K001"==e.data.code){var i={appkey:t.appkey,phone:a,password:n};i=s["a"].queryString(i),t.axios({method:"POST",url:"/retrievePassword",data:i}).then((function(e){"L001"==e.data.code&&(t.$toast(e.data.msg),t.username="",t.password="",t.email="",t.sms="",t.isshow=!1),"L003"==e.data.code&&t.$notify({type:"warning",message:e.data.msg}),"L004"==e.data.code&&t.$notify({type:"warning",message:e.data.msg})}))}else t.$notify({type:"warning",message:"验证码不正确"})}))}else this.$notify({type:"warning",message:"邮箱不能为空"})},mailboxnumber:function(){var e=this,t=this.email,a={email:{value:t,reg:/^([a-zA-Z]|[0-9])(\w|\-)+@[a-zA-Z0-9]+\.([a-zA-Z]{2,4})$/,errorMsg:"邮箱格式不正确"}};if(o["a"].valid(a)){this.$toast.loading({message:"努力加载中...",forbidClick:!0,duration:0,loadingType:"circular"});var n={appkey:this.appkey,email:t};n=s["a"].queryString(n),this.axios({method:"POST",url:"/emailValidCode",data:n}).then((function(t){if("J001"==t.data.code){e.$toast.clear(),e.$toast("验证码发送成功"),e.isdisable=!1;var a=setInterval((function(){e.countdown--,e.countdown<1&&(e.countdown=15,e.isdisable=!0,clearInterval(a))}),1e3)}}))}}}},c=r,l=a("9ca4"),u=Object(l["a"])(c,n,i,!1,null,"438dd31a",null);t["default"]=u.exports},"9d64":function(e,t,a){e.exports=a.p+"img/logo.e66c424a.png"},a340:function(e,t,a){"use strict";function n(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,a){return t&&n(e.prototype,t),a&&n(e,a),e}a.d(t,"a",(function(){return i}))},b4fb:function(e,t,a){"use strict";var n=a("1c8b"),i=a("efe2"),o=a("74e7"),s=a("a719"),r=a("3553"),c=a("d88d"),l=a("1bbd"),u=a("1ca1"),d=a("1ea7"),f=a("90fb"),p=a("f594"),g=f("isConcatSpreadable"),v=9007199254740991,h="Maximum allowed index exceeded",m=p>=51||!i((function(){var e=[];return e[g]=!1,e.concat()[0]!==e})),y=d("concat"),w=function(e){if(!s(e))return!1;var t=e[g];return void 0!==t?!!t:o(e)},b=!m||!y;n({target:"Array",proto:!0,forced:b},{concat:function(e){var t,a,n,i,o,s=r(this),d=u(s,0),f=0;for(t=-1,n=arguments.length;t<n;t++)if(o=-1===t?s:arguments[t],w(o)){if(i=c(o.length),f+i>v)throw TypeError(h);for(a=0;a<i;a++,f++)a in o&&l(d,f,o[a])}else{if(f>=v)throw TypeError(h);l(d,f++,o)}return d.length=f,d}})},c710:function(e,t,a){}}]);
//# sourceMappingURL=chunk-2e9d6ba6.43ed6158.js.map